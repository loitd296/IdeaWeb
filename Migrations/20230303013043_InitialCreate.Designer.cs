// <auto-generated />
using System;
using IdeaWeb.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace IdeaWeb.Migrations
{
    [DbContext(typeof(IdeaWebContext))]
    [Migration("20230303013043_InitialCreate")]
    partial class InitialCreate
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "7.0.3")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("IdeaWeb.Models.Category", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("Deleted_Status")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.ToTable("Category");
                });

            modelBuilder.Entity("IdeaWeb.Models.CloseDateAcedamic", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime?>("CloseDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CloseDatePostIdea")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("CloseDateAcedamic");
                });

            modelBuilder.Entity("IdeaWeb.Models.Comment", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Content")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("Date_Upload")
                        .HasColumnType("datetime2");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<int?>("ideaIdid")
                        .HasColumnType("int");

                    b.Property<int?>("userIdid")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("ideaIdid");

                    b.HasIndex("userIdid");

                    b.ToTable("Comment");
                });

            modelBuilder.Entity("IdeaWeb.Models.Department", b =>
                {
                    b.Property<int>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("id"));

                    b.Property<string>("name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.ToTable("Department");
                });

            modelBuilder.Entity("IdeaWeb.Models.Document", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("DataLink")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("Date_Upload")
                        .HasColumnType("datetime2");

                    b.Property<int?>("ideaIdid")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("ideaIdid");

                    b.ToTable("Document");
                });

            modelBuilder.Entity("IdeaWeb.Models.Idea", b =>
                {
                    b.Property<int>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("id"));

                    b.Property<int?>("CloseDateAcedamicId")
                        .HasColumnType("int");

                    b.Property<int?>("categoryIdId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("date_Upload")
                        .HasColumnType("datetime2");

                    b.Property<int?>("dislike_Count")
                        .HasColumnType("int");

                    b.Property<int?>("like_Count")
                        .HasColumnType("int");

                    b.Property<string>("name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("userIdid")
                        .HasColumnType("int");

                    b.HasKey("id");

                    b.HasIndex("CloseDateAcedamicId");

                    b.HasIndex("categoryIdId");

                    b.HasIndex("userIdid");

                    b.ToTable("Idea");
                });

            modelBuilder.Entity("IdeaWeb.Models.Rating", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("Dislike")
                        .HasColumnType("int");

                    b.Property<string>("IDidea")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("ideaIdid")
                        .HasColumnType("int");

                    b.Property<int>("like")
                        .HasColumnType("int");

                    b.Property<int?>("userIdid")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("ideaIdid");

                    b.HasIndex("userIdid");

                    b.ToTable("Rating");
                });

            modelBuilder.Entity("IdeaWeb.Models.Role", b =>
                {
                    b.Property<int>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("id"));

                    b.Property<string>("name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.ToTable("Role");
                });

            modelBuilder.Entity("IdeaWeb.Models.User", b =>
                {
                    b.Property<int>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("id"));

                    b.Property<int?>("departmentIdid")
                        .HasColumnType("int");

                    b.Property<DateTime?>("dob")
                        .HasColumnType("datetime2");

                    b.Property<string>("email")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("flag")
                        .HasColumnType("int");

                    b.Property<string>("name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("password")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("phone")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.HasIndex("departmentIdid");

                    b.ToTable("User");
                });

            modelBuilder.Entity("IdeaWeb.Models.UserRole", b =>
                {
                    b.Property<int>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("id"));

                    b.Property<int?>("roleIdid")
                        .HasColumnType("int");

                    b.Property<int?>("userIdid")
                        .HasColumnType("int");

                    b.HasKey("id");

                    b.HasIndex("roleIdid");

                    b.HasIndex("userIdid");

                    b.ToTable("UserRole");
                });

            modelBuilder.Entity("IdeaWeb.Models.Comment", b =>
                {
                    b.HasOne("IdeaWeb.Models.Idea", "ideaId")
                        .WithMany("comments")
                        .HasForeignKey("ideaIdid");

                    b.HasOne("IdeaWeb.Models.User", "userId")
                        .WithMany("comments")
                        .HasForeignKey("userIdid");

                    b.Navigation("ideaId");

                    b.Navigation("userId");
                });

            modelBuilder.Entity("IdeaWeb.Models.Document", b =>
                {
                    b.HasOne("IdeaWeb.Models.Idea", "ideaId")
                        .WithMany("documents")
                        .HasForeignKey("ideaIdid");

                    b.Navigation("ideaId");
                });

            modelBuilder.Entity("IdeaWeb.Models.Idea", b =>
                {
                    b.HasOne("IdeaWeb.Models.CloseDateAcedamic", null)
                        .WithMany("ideas")
                        .HasForeignKey("CloseDateAcedamicId");

                    b.HasOne("IdeaWeb.Models.Category", "categoryId")
                        .WithMany("ideas")
                        .HasForeignKey("categoryIdId");

                    b.HasOne("IdeaWeb.Models.User", "userId")
                        .WithMany("Ideas")
                        .HasForeignKey("userIdid");

                    b.Navigation("categoryId");

                    b.Navigation("userId");
                });

            modelBuilder.Entity("IdeaWeb.Models.Rating", b =>
                {
                    b.HasOne("IdeaWeb.Models.Idea", "ideaId")
                        .WithMany("ratings")
                        .HasForeignKey("ideaIdid");

                    b.HasOne("IdeaWeb.Models.User", "userId")
                        .WithMany("ratings")
                        .HasForeignKey("userIdid");

                    b.Navigation("ideaId");

                    b.Navigation("userId");
                });

            modelBuilder.Entity("IdeaWeb.Models.User", b =>
                {
                    b.HasOne("IdeaWeb.Models.Department", "departmentId")
                        .WithMany("users")
                        .HasForeignKey("departmentIdid");

                    b.Navigation("departmentId");
                });

            modelBuilder.Entity("IdeaWeb.Models.UserRole", b =>
                {
                    b.HasOne("IdeaWeb.Models.Role", "roleId")
                        .WithMany("userRoles")
                        .HasForeignKey("roleIdid");

                    b.HasOne("IdeaWeb.Models.User", "userId")
                        .WithMany("userRoles")
                        .HasForeignKey("userIdid");

                    b.Navigation("roleId");

                    b.Navigation("userId");
                });

            modelBuilder.Entity("IdeaWeb.Models.Category", b =>
                {
                    b.Navigation("ideas");
                });

            modelBuilder.Entity("IdeaWeb.Models.CloseDateAcedamic", b =>
                {
                    b.Navigation("ideas");
                });

            modelBuilder.Entity("IdeaWeb.Models.Department", b =>
                {
                    b.Navigation("users");
                });

            modelBuilder.Entity("IdeaWeb.Models.Idea", b =>
                {
                    b.Navigation("comments");

                    b.Navigation("documents");

                    b.Navigation("ratings");
                });

            modelBuilder.Entity("IdeaWeb.Models.Role", b =>
                {
                    b.Navigation("userRoles");
                });

            modelBuilder.Entity("IdeaWeb.Models.User", b =>
                {
                    b.Navigation("Ideas");

                    b.Navigation("comments");

                    b.Navigation("ratings");

                    b.Navigation("userRoles");
                });
#pragma warning restore 612, 618
        }
    }
}
